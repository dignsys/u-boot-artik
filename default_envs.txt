bootdelay=1
baudrate=115200
ethprime=RTL8211
fdt_high=0xffffffff
kernel_file=zImage
ramdiskaddr=0x59000000
ramdisksize=0x800000
ramdisk_file=uInitrd
sdram_base=0x40000000U
kernel_offs=0x00080000
ramdisk_offs=0x19000000
fdt_offs=0x0a000000
sd_offset=0x08000000
gen_addr=setexpr kerneladdr $sdram_base + $kernel_offs; setexpr ramdiskaddr $sdram_base + $ramdisk_offs; setexpr fdtaddr $sdram_base + $fdt_offs
gen_sdrecaddr=setexpr sdrecaddr $sdram_base + $sd_offset
load_fdt=if test -z "$fdtfile"; then loop=$board_rev; number=$board_rev: success=0; until test $loop -eq 0 || test $success -ne 0; do if test $loop -lt 10; then number=0$loop; else number=$loop; fi; ext4size mmc $rootdev:$bootpart s5p4418-artik${model_id}-raptor-rev${number}.dtb && setexpr success 1; setexpr loop $loop - 1; done; if test $success -eq 0; then ext4load mmc $rootdev:$bootpart $fdtaddr s5p4418-artik530-raptor-rev00.dtb;else ext4load mmc $rootdev:$bootpart $fdtaddr s5p4418-artik${model_id}-raptor-rev${number}.dtb; fi; else ext4load mmc $rootdev:$bootpart $fdtaddr $fdtfile; fi; setenv success; setenv number; setenv loop;
bootdelay=1
console=console=ttyAMA3,115200n8
console_default=setenv console console=ttyAMA3,115200n8
consoleon=run console_default; saveenv; reset
consoleoff=setenv console ram; saveenv; reset
rootdev=0
rootpart=3
bootpart=1
modulespart=2
rescue=0
root_rw=rw
model_id=530
nr_cpus=4
opts=loglevel=7
rootfs_type=ext4
dfu_alt_info=bl1-emmcboot.img raw 0x1 0x80;bl1-sdboot.img raw 0x1 0x80;loader-emmc.img raw 0x81 0x180;loader-sd.img raw 0x81 0x180;bl_mon.img raw 0x201 0x100;secureos.img raw 0x301 0xc00;bootloader.img raw 0xf01 0x800;/uImage ext4 $rootdev $bootpart;/zImage ext4 $rootdev $bootpart;/uInitrd ext4 $rootdev $bootpart;/ramdisk.img ext4 $rootdev $bootpart;/ramdisk-recovery.img ext4 $rootdev $bootpart;/s5p4418-artik532-raptor-rev03.dtb ext4 $rootdev $bootpart;/s5p4418-artik530-raptor-rev03.dtb ext4 $rootdev $bootpart;/s5p4418-artik530-raptor-rev00.dtb ext4 $rootdev $bootpart;/s5p4418-artik532-explorer.dtb ext4 $rootdev $bootpart;/s5p4418-artik530-explorer.dtb ext4 $rootdev $bootpart;boot part $rootdev $bootpart;modules part $rootdev $modulespart;rootfs part $rootdev $rootpart;params.bin raw 0x1701 0x20;/Image.itb ext4 $rootdev $bootpart;system-data part 0 5;user part 0 6
dfu_usb_con=0
dfu_interface=mmc
dfu_device=0
lcd1_0=s6e8fa0
lcd2_0=gst7d0038
lcd_panel=s6e8fa0
bootmode=ramdisk
sdrecovery=run boot_cmd_sdboot;sd_recovery mmc 1:3 $sdrecaddr partmap_emmc.txt
factory_load=factory_info load mmc 0 0x1c00 0x100
factory_save=factory_info save mmc 0 0x1c00 0x100
factory_set_ethaddr=run factory_load; gen_eth_addr ;factory_info write ethaddr $ethaddr;run factory_save
load_args=run factory_load; setenv bootargs ${console} root=/dev/mmcblk${rootdev}p${rootpart} ${root_rw} rootfstype=${rootfs_type} ${recoverymode} ${ota} drm_panel=$lcd_panel nr_cpus=${nr_cpus} ${opts} bootfrom=${bootpart} rescue=${rescue};
load_kernel=ret=0; ext4load mmc ${rootdev}:${bootpart} $kerneladdr $kernel_file && setexpr ret 1; if test $ret -eq 0; then if test $bootpart -eq 2; then setenv bootpart 3; else setenv bootpart 2; fi; setenv rescue 1; ext4load mmc ${rootdev}:${bootpart} $kerneladdr $kernel_file; run load_args; fi;
load_initrd=if test ${bootmode} = recovery || test ${bootmode} = fota; then; if test -e mmc ${rootdev}:${bootpart} ramdisk-recovery.img; then echo ${bootmode} booting.;setenv ramdisk_file ramdisk-recovery.img;setenv ramdisksize 0xc00000;else echo There is no Recovery Image!!!;echo Try to do the Normal Ramdisk Booting!!;setenv ramdisk_file ramdisk.img;setenv bootmode ramdisk;fi;else if test -e mmc ${rootdev}:${bootpart} ramdisk.img; then echo ${bootmode} booting.;setenv ramdisk_file ramdisk.img;fi;fi;if test -e mmc ${rootdev}:${bootpart} ${ramdisk_file}; then setenv bootargs ${console} root=/dev/ram0 ${root_rw} ${opts} ${recoverymode} drm_panel=$lcd_panel bootdev=mmcblk${rootdev} bootmode=${bootmode};fi;ext4load mmc ${rootdev}:${bootpart} $ramdiskaddr $ramdisk_file
boot_cmd_initrd=run load_fdt; run load_kernel; run load_initrd;bootz $kerneladdr ${ramdiskaddr}:${ramdisksize} $fdtaddr
boot_cmd_mmcboot=run load_kernel; run load_fdt;bootz $kerneladdr - $fdtaddr
boot_cmd_sdboot=setenv bootpart 1; setenv modulespart 2; setenv rootpart 3;
ramfsboot=run gen_addr; run load_args; run boot_cmd_initrd
mmcboot=run gen_addr; run load_args; run boot_cmd_mmcboot
recovery_cmd=run sdrecovery; setenv recoverymode recovery
recoveryboot=run gen_sdrecaddr; run recovery_cmd; run ramfsboot
hwtestboot=setenv rootdev 1;setenv opts rootfstype=ext4 rootwait loglevel=4;setenv fdtfile s5p4418-artik${model_id}-explorer.dtb;run mmcboot
hwtest_recoveryboot=run recovery_cmd; run hwtestboot
bootcmd=run ramfsboot


